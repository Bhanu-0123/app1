<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, width=device-width" />

  <!-- Add your stylesheet links -->
  <link rel="stylesheet" href="./global.css" />
  <link rel="stylesheet" href="./sign-up.css" />

  <!-- Include Firebase JavaScript SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage.js"></script>

  <style>
    /* Add your additional styles here */
  </style>

  <script>
    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDmu5pC_ezSxcunL9QpAYcjvMNqCde5SUQ",
      authDomain: "appauth-f9250.firebaseapp.com",
      databaseURL: "https://appauth-f9250-default-rtdb.firebaseio.com",
      projectId: "appauth-f9250",
      storageBucket: "appauth-f9250.appspot.com",
      messagingSenderId: "652727774916",
      appId: "1:652727774916:web:021f6820fd8e0c1c39e391"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Initialize Realtime Database
    const database = firebase.database();

    // Initialize Cloud Storage
    const storage = firebase.storage();
    const storageRef = storage.ref();

    document.addEventListener("DOMContentLoaded", function () {
      var login = document.getElementById("login");
      if (login) {
        login.addEventListener("click", function (e) {
          // Handle user sign-up using Firebase
          var email = document.querySelector('.sign-up-inner').value;
          var password = document.querySelector('.frame-input').value;

          firebase.auth().createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // User signed up successfully

              // Example: Write user data to the Realtime Database
              database.ref('users/' + userCredential.user.uid).set({
                email: email,
                // Add other user data as needed
              });

              // Example: Upload a file to Cloud Storage
              var fileInput = document.getElementById('fileInput');
              var file = fileInput.files[0];
              var filePath = 'user-profiles/' + userCredential.user.uid + '/' + file.name;
              var fileRef = storageRef.child(filePath);

              fileRef.put(file).then((snapshot) => {
                console.log('File uploaded successfully');
              });

              window.location.href = "./homr.html"; // Fixed typo here
            })
            .catch((error) => {
              // Handle errors during sign-up
              console.error(error.message);
            });
        });
      }

      var back = document.getElementById("back");
      if (back) {
        back.addEventListener("click", function (e) {
          window.location.href = "./index.html";
        });
      }

      var login1 = document.getElementById("login1");
      if (login1) {
        login1.addEventListener("click", function (e) {
          window.location.href = "./login.html";
        });
      }
    });

    // Updated functions for button clicks
    function myFunction() {
      // Function logic for the "Sign up" button
      var email = document.querySelector('.sign-up-inner').value;
      var password = document.querySelector('.frame-input').value;

      // ... The rest of your sign-up logic ...
    }

    function myBackFunction() {
      // Function logic for the "Back" button
      window.location.href = "./index.html";
    }

    function myLoginFunction() {
      // Function logic for the "Login" button
      window.location.href = "./login.html";
    }
  </script>
</head>
<body>
  <div class="sign-up">
    <div class="frame8">
      <b class="create-your-account">Sign up</b>
    </div>
    <div class="frame9">
      <b class="create-your-account">Create your account</b>
    </div>
    <input class="sign-up-child" name="Enter name" placeholder="Enter Name" type="text" />
    <input class="sign-up-item" placeholder="Phone number" type="text" />
    <input class="sign-up-inner" placeholder="Email Address" type="text" />
    <input class="frame-input" placeholder="Password" type="password" />
    <input class="sign-up-child1" placeholder="Confirm Password" type="text" />
    <a class="upload-photo-parent">
      <b class="upload-photo">Upload photo</b>
      <img class="vector-icon1" alt="" src="./public/vector@2x.png" />
    </a>
    <input type="file" id="fileInput" />
    <!-- Updated button tags with onclick attribute -->
    <button class="login" id="login" onclick="myFunction()">
      <b class="sign-up2">Sign up</b>
    </button>
    <div class="frame10">
      <button class="back" id="back" onclick="myBackFunction()">
        <div class="back-child"></div>
        <b class="back1">back</b>
      </button>
    </div>
    <div class="frame11">
      <b class="create-your-account">Already have an account? </b>
      <button class="login1" id="login1" onclick="myLoginFunction()">Login</button>
    </div>
  </div>
</body>
</html>
